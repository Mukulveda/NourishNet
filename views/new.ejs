<% layout("/layouts/boilerplate") %>

<!-- Background Wrapper -->
<div style="background-color: #F4F1DE; min-height: 100vh; display: flex; justify-content: center; align-items: center;">

  <!-- Card Content -->
  <div class="card shadow-lg p-4 mt-3 mb-3" style="width: 100%; max-width: 800px; border-radius: 20px; background-color: rgba(255, 255, 255, 0.9); position: relative; overflow: hidden;">
    <div class="card-blur-bg"></div> <!-- Optional blurred layer -->

    <h2 class="text-center mb-4" style="color: #3D405B; position: relative; z-index: 2;">Share Your Food</h2>
    <form method="POST" action="/donations" class="needs-validation" novalidate style="position: relative; z-index: 2;">
      <!-- Food Name -->
      <div class="mb-3">
        <label for="food_name" class="form-label">Food Name</label>
        <input name="food_name" id="food_name" placeholder="Enter food name" type="text" class="form-control" required>
        <div class="valid-feedback">Looks good!</div>
        <div class="invalid-feedback">Please enter a food name.</div>
      </div>

      <!-- Description -->
      <div class="mb-3">
        <label for="description" class="form-label">Description</label>
        <textarea name="description" id="description" placeholder="Enter description" class="form-control" required></textarea>
        <div class="invalid-feedback">Please enter a short description.</div>
      </div>

      <!-- Image URL -->
      <div class="mb-3">
        <label for="image_url" class="form-label">Image URL</label>
        <input name="image_url" id="image_url" type="text" class="form-control" required>
        <div class="invalid-feedback">Please provide an image URL.</div>
      </div>

      <!-- Quantity -->
      <div class="mb-3">
        <label for="quantity" class="form-label">Quantity</label>
        <input name="quantity" id="quantity" placeholder="e.g. 2 pieces, 0.5 kg" class="form-control" required>
        <div class="invalid-feedback">Please enter a valid quantity.</div>
      </div>

      <!-- Address -->
      <div class="mb-3">
        <label for="address" class="form-label">Address</label>
        <input name="address" id="address" placeholder="Enter address" type="text" class="form-control" required>
        <div class="invalid-feedback">Please enter a valid address.</div>
      </div>

      <!-- Expiry Date -->
      <div class="mb-3">
        <label for="expiry_date" class="form-label">Expiry Date</label>
        <input name="expiry_date" id="expiry_date" type="date" class="form-control" required>
        <div class="invalid-feedback">Please select a valid expiry date.</div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-dark w-100 mt-2 add-btn">Add Donation</button>
    </form>
  </div>
</div>

<!-- Bootstrap Client-Side Validation Script -->
<script>
  (() => {
    'use strict';
    const forms = document.querySelectorAll('.needs-validation');
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  })();
</script>

<style>
  label {
    font-weight: 500;
  }

  .form-label {
    color: #3D405B;
  }

  .form-control {
    color: #3D405B !important;
  }

  input, textarea {
    min-height: 45px;
    border-radius: 10px;
  }

  .add-btn {
    font-weight: bold;
    background-color: #3D405B !important;
    color: #F4F1DE !important;
    border-radius: 10px;
  }

  .add-btn:hover {
    background-color: #2e2f44 !important;
    transform: translateY(-1px);
  }

  .card {
    border: none;
  }

  .card-blur-bg {
    background-image: url('/image/New-Edit.png');
    background-size: cover;
    background-position: center;
    filter: blur(3px);
    opacity: 0.2;
    position: absolute;
    top: 0; bottom: 0; left: 0; right: 0;
    z-index: 1;
  }
</style>
